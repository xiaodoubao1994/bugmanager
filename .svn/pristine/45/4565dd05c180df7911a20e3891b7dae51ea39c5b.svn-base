function ajax(obj) {
    var type = obj["type"];
    var url = obj["url"];
    var para = obj["para"];
    var dataType = obj["dataType"];
    var success = obj["success"];
    if (para) {
        var str = "?";
        for (var i in para) {
            str += i + "=" + para[i] + "&";
        }
        str = str.substring(0, str.length - 1);    //最后做拼接时多了一个&，这里去除
        url = url + str;    //拼接处完整的地址
    }
    var req = new XMLHttpRequest();
    req.open(type, url, true);
    req.send();
    req.onreadystatechange = function () {
        if (req.readyState == 4 && req.status == 200) {
            var text = req.responseText;
            if (dataType == "json") {
                success(JSON.parse(text));
            } else {
                success(text);
            }
        }
    }
}
